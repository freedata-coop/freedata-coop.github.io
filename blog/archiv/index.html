---
title: FreeData · Archiv
description: ""
layout: page_no_title
theme: light
---

<section class="page-hero">
  <div class="kicker">FreeData · Archiv</div>
  <h1>Alle Beiträge nach Jahr.</h1>
</section>
<hr>

{%- assign published = site.posts -%}
{%- assign sorted = published | sort: "date" | reverse -%}
{%- assign years = sorted | group_by_exp: "post", "post.date | date: '%Y'" -%}

<nav class="year-nav">
  <a href="#all" data-year="all">Alle</a>
  {% if sorted.size > 0 %}
    {% for y in years %}
      <a href="#y{{ y.name }}" data-year="{{ y.name }}">{{ y.name }}</a>
    {% endfor %}
  {% endif %}
</nav>

<section class="year-archive">
{% if sorted.size > 0 %}  
  {% for y in years %}
    <div class="year-block" data-year="{{ y.name }}">
      <h2 id="y{{ y.name }}" class="year-head">{{ y.name }}</h2>

      {% for post in y.items %}
      <article class="blog-row">
        <div class="blog-meta">
          {% if post.tags %}
          <div class="blog-tags">
            {% for tag in post.tags %}
              <span class="tag">{{ tag }}</span>
            {% endfor %}
          </div>
          {% endif %}
          <div class="blog-date">
            {{ post.date | date: "%d.%m.%Y" }}
          </div>
        </div>
        <div class="blog-row-head">
          <h2 class="blog-title">
            <a href="{{ post.url }}">{{ post.title }}</a>
          </h2>
        </div>
        <p class="blog-excerpt">
          {{ post.excerpt | strip_html | truncate: 300 }}
        </p>

        <div class="blog-read">
          <a href="{{ post.url }}">Weiterlesen →</a>
        </div>
      </article>
      {% endfor %}
      
    </div>
  {% endfor %}
{% else %}
<div class="empty-state">
  <p>Noch keine Einträge im Archiv.</p>
</div>
{% endif %}

</section>

<script>
(function () {
  const pills = document.querySelectorAll('.year-nav a');
  const blocks = document.querySelectorAll('.year-block');

  function showYear(year){
    blocks.forEach(b => {
      b.style.display = (year === 'all' || b.dataset.year === year) ? '' : 'none';
    });
  }

  function setActivePill(year){
    pills.forEach(p => p.classList.remove('is-active'));
    const active = document.querySelector('.year-nav a[data-year="'+year+'"]');
    if(active) active.classList.add('is-active');
  }

  function fromHash(){
    const hash = location.hash.replace('#y','').replace('#','');

    // falls kein Hash: default = erstes Jahr aus der Nav (neuester Eintrag)
    let year;
    if(hash){
      year = hash;
    } else {
      const firstYearPill = document.querySelector('.year-nav a[data-year]:not([data-year="all"])');
      year = firstYearPill ? firstYearPill.dataset.year : 'all';
    }

    showYear(year);
    setActivePill(year);
  }

  pills.forEach(p => {
    p.addEventListener('click', e => {
      const year = p.dataset.year;
      showYear(year);
      setActivePill(year);
    });
  });

  window.addEventListener('hashchange', fromHash);
  fromHash();
})();
</script>

